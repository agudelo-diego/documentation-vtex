{"_type":"export","__export_format":4,"__export_date":"2024-12-27T17:38:12.188Z","__export_source":"insomnia.desktop.app:v10.3.0","resources":[{"_id":"req_88b750c226f44272842e2e62f2de3e68","parentId":"wrk_9048b63846a3417faac75baf8196e663","modified":1735321080008,"created":1734010085237,"url":"{{ _.backend_vtex }}/api/v1/external/contests/list","name":"get-contests-list-external","description":"# Descripción\n\n### Este endpoint permite consultar una lista de concursos, que están asociados a un cliente específico, La petición incluye parámetros como el NIT del cliente, el estado del concurso y opciones de paginación para optimizar la respuesta, estos se enviaran en el body de la petición.\n\n# Parámetros\n\n## `status_id`\n- **Requerido**: Sí\n- **Tipo**: Entero\n- **Validaciones**:\n  - Debe ser un número entero.\n- **Descripción**: Identificador del estado con el que se estimara que concursos retornar, estatus_id:1 concursos vigentes por fechas, inicio de concurso menor al momento de ejecución y finalizacion superior a fecha de momento de ejecución. status_id:2 retornara cocncursos donde fecha de finalizacion ya paso, o sea concursos finalizados. status_id:3 retornara todos los concursos.\n\n\n## `nit`\n- **Requerido**: Sí\n- **Tipo**: Entero\n- **Validaciones**:\n  - Debe ser un número entero.\n- **Descripción**: Número de Identificación Tributaria (NIT) del cliente o entidad a consultar.\n\n## `page_size`\n- **Requerido**: No (Opcional)\n- **Tipo**: Entero\n- **Validaciones**:\n  - Debe ser un número entero.\n  - Debe tener un valor mínimo de **1**.\n  - Su valor máximo permitido es **100**.\n- **Descripción**: Define el número de registros que se retornarán por página en los resultados de la consulta.\n\n## `page`\n- **Requerido**: No (Opcional)\n- **Tipo**: Entero\n- **Validaciones**:\n  - Debe ser un número entero.\n  - Debe tener un valor mínimo de **1**.\n- **Descripción**: Número de la página a consultar en el conjunto paginado de resultados.\n\n## `sort_by`\n- **Requerido**: No (Opcional)\n- **Tipo**: Cadena de texto\n- **Validaciones**:\n  - Debe ser una cadena de texto.\n- **Descripción**: Campo por el cual se desea ordenar los resultados de la consulta.\n\n## `order_desc`\n- **Requerido**: No (Opcional)\n- **Tipo**: Booleano\n- **Validaciones**:\n  - Debe ser un valor booleano (`true` o `false`).\n- **Descripción**: Define si el orden de los resultados será descendente (`true`) o ascendente (`false`). Si no se especifica, se utilizará un orden ascendente por defecto.\n\n# Posibles repuestas\n\nError de Validación:\nEl servidor responde con un código HTTP 422 (Unprocessable Entity) si los datos enviados no cumplen con las reglas de validación. La respuesta incluye detalles de los errores en formato JSON.\n\nError del Servidor:\nEn caso de un problema interno, el servidor retorna un código HTTP 500 (Internal Server Error). \n\nProceso Exitoso:\nEl servidor devuelve un código de estado HTTP 200 (OK), indicando que la solicitud fue procesada correctamente. La respuesta incluye los datos de los concursos en formato JSON.\n\nel api retornara un json con la siguiente estructura:\n\n\n```json\n\n{\n\t\"data\": {\n\t\t\"contests\": [\n\t\t\t{\n\t\t\t\t\"contest_id\": 199,\n\t\t\t\t\"contest_name\": \"¡Gana un Kia Picanto 0 km con Distribuciones AXA y Pfizer!\",\n\t\t\t\t\"contest_start_date\": \"2024-12-01\",\n\t\t\t\t\"contest_end_date\": \"2024-12-31\",\n\t\t\t\t\"status\": \"Participando\",\n\t\t\t\t\"is_multiple_opportunities_allowed\": true,\n\t\t\t\t\"is_draw_required\": false,\n\t\t\t\t\"general_quota\": 50000,\n\t\t\t\t\"quota_percentage\": 0,\n\t\t\t\t\"general_quota_completed\": 0,\n\t\t\t\t\"url_image\": \"http:\\/\\/127.0.0.1:8000\\/api\\/images\\/contest_image199_0_1733843031.7387.jpg\"\n\t\t\t}\n\t\t],\n\t\t\"total_contest\": 2\n\t}\n}\n```\n\nEl API retornará un JSON con una propiedad `data`. Dentro de esta, estarán las propiedades `contests`, que es un arreglo con los concursos disponibles, y `total_contest`, que es un campo que permitirá saber cuántos concursos existen con los parámetros pasados. Esto se utilizará para el paginado.\n\n### Estructura de la Respuesta\n\n- **data**: Objeto principal que contiene la información sobre los concursos.\n  \n  - **contests**: Lista de concursos, donde cada concurso tiene los siguientes atributos:\n    - **contest_id**: Identificador único del concurso (e.g., 199).\n    - **contest_name**: Nombre del concurso (e.g., \"¡Gana un Kia Picanto 0 km con Distribuciones AXA y Pfizer!\").\n    - **contest_start_date**: Fecha de inicio del concurso (e.g., \"2024-12-01\").\n    - **contest_end_date**: Fecha de finalización del concurso (e.g., \"2024-12-31\").\n    - **status**: Estado actual del concurso (e.g., \"Participando\").\n    - **is_multiple_opportunities_allowed**: Booleano que indica si se permiten múltiples oportunidades de participación (e.g., true).\n    - **is_draw_required**: Booleano que indica si es necesario realizar un sorteo (e.g., false).\n    - **general_quota**: Cuota general en compras segun condiciones(e.g., 50000).\n    - **quota_percentage**: Porcentaje de cuota completado (e.g., 0).\n    - **general_quota_completed**: cumplimiento de cuota general (e.g., 0).\n    - **url_image**: URL de la imagen del concurso (e.g., \"http://127.0.0.1:8000/api/images/contest_image199_0_1733843031.7387.jpg\").\n\n  - **total_contest**: Número total de concursos (e.g., 2).\n\n\n\n\n\n\n\n\n\n\n\n","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"nit\":1057544364,\n\t\"status_id\":3,\n\t\"page\":1,\n  \"page_size\": 1,\n\t\"sort_by\":\"\",\n\t\"order_desc\":0\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_9615e0cb0665471b90f25fcf6279a6dd"},{"name":"User-Agent","value":"insomnia/10.1.1","id":"pair_dbcf577f3a9d4849a73b2949975c3e83"},{"id":"pair_ec4f6dc7ca184c11b438a6dc7dc273f1","name":"X-API-KEY","value":"lXCYFVPW01DOZTEGWnjI9lj66ArZwjiCMFgzU43G","description":"","disabled":false}],"authentication":{"type":"none"},"metaSortKey":-1733853632247,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"wrk_9048b63846a3417faac75baf8196e663","parentId":null,"modified":1734010143685,"created":1734010085220,"name":"Endpoints_externos","description":"","scope":"collection","_type":"workspace"},{"_id":"req_2e215e65f5924aaeaf5dbf8fbe7dbae7","parentId":"wrk_9048b63846a3417faac75baf8196e663","modified":1735320925424,"created":1734010085239,"url":"{{ _.backend_vtex }}/api/v1/external/contests/details","name":"get-contests-details-external","description":"# Descripción\n\n### Este endpoint permite consultar los detalles de un concurso en especifico. La petición incluye parámetros como el NIT del cliente y el id del concurso, estos se enviaran en el body de la petición.\n\n# Parámetros\n\n## `nit`\n- **Requerido**: Sí\n- **Tipo**: Entero\n- **Validaciones**:\n  - Debe ser un número entero.\n- **Descripción**: Número de Identificación Tributaria (NIT) del cliente o entidad a consultar.\n\n## `contest_id`\n- **Requerido**: Sí\n- **Tipo**: Entero\n- **Validaciones**:\n  - Debe ser un número entero.\n- **Descripción**: Identificador del concurso que se desea consultar.\n\n# Posibles repuestas\n\nError de Validación:\nEl servidor responde con un código HTTP 422 (Unprocessable Entity) si los datos enviados no cumplen con las reglas de validación. La respuesta incluye detalles de los errores en formato JSON.\n\nError del Servidor:\nEn caso de un problema interno, el servidor retorna un código HTTP 500 (Internal Server Error). \n\nProceso Exitoso:\nEl servidor devuelve un código de estado HTTP 200 (OK), indicando que la solicitud fue procesada correctamente. La respuesta incluye los datos del concursos en formato JSON, con una propiedad `data`. Dentro de esta, estarán las propiedades del concurso.\n\n```json\n\n{\n\t\n\t\"data\": {\n\t\t\"contest_id\": 200,\n\t\t\"contest_name\": \"Concurso fecha vencidas\",\n\t\t\"contest_description\": \"Concurso fecha vencidas\",\n\t\t\"contest_start_date\": \"2024-11-01\",\n\t\t\"contest_end_date\": \"2024-11-30\",\n\t\t\"status\": \"Finalizado\",\n\t\t\"is_multiple_opportunities_allowed\": true,\n\t\t\"is_draw_required\": false,\n\t\t\"general_quota\": 56234,\n\t\t\"quota_percentage\": 55,\n\t\t\"url_image\": \"http:\\/\\/127.0.0.1:8000\\/api\\/images\\/contest_image200_0_1733947511.6897.png\",\n\t\t\"last_update_date\": null,\n\t\t\"opportunities_counter\": 0,\n\t\t\"total_conditions_counter\": 3,\n\t\t\"missing_conditions_counter\": 2,\n\t\t\"general_quota_completed\": 31000,\n\t\t\"tyc\": \"tyc\",\n\t\t\"total_general_quota_completed\": \"116000.00\",\n\t\t\"award_name\": \"CARRO KIA PICANTO\",\n\t\t\"remaining_to_next_ticket\": 25234\n\t}\n\n}\n```\n\n\n\n### Estructura de la Respuesta\n- **data**: Objeto principal que contiene la información sobre el concurso.\n  - **contest_id**: Identificador único del concurso (e.g., 200).\n  - **contest_name**: Nombre del concurso (e.g., \"Concurso fecha vencidas\").\n  - **contest_description**: Descripción del concurso (e.g., \"Concurso fecha vencidas\").\n  - **contest_start_date**: Fecha de inicio del concurso (e.g., \"2024-11-01\").\n  - **contest_end_date**: Fecha de finalización del concurso (e.g., \"2024-11-30\").\n  - **status**: Estado actual del concurso (e.g., \"Finalizado\").\n  - **is_multiple_opportunities_allowed**: Booleano que indica si se permiten múltiples oportunidades de participación (e.g., true).\n  - **is_draw_required**: Booleano que indica si es necesario realizar un sorteo (e.g., false).\n  - **general_quota**: Cuota general en compras según condiciones (e.g., 56234).\n  - **quota_percentage**: Porcentaje de cuota completado (e.g., 55).\n  - **url_image**: URL de la imagen del concurso (e.g., \"http:\\/\\/127.0.0.1:8000\\/api\\/images\\/contest_image200_0_1733947511.6897.png\").\n  - **last_update_date**: Fecha de la última actualización de datos (e.g., null).\n  - **opportunities_counter**: Contador de oportunidades registradas (e.g., 0).\n  - **total_conditions_counter**: Total de condiciones del concurso (e.g., 3).\n  - **missing_conditions_counter**: Contador de condiciones faltantes (e.g., 2).\n  - **general_quota_completed**: Monto completado de la cuota general (e.g., 31000).\n  - **tyc**: Términos y condiciones del concurso (e.g., \"tyc\").\n  - **total_general_quota_completed**: Monto total de la cuota general completado (e.g., \"116000.00\").\n  - **award_name**: Nombre del premio del concurso (e.g., \"CARRO KIA PICANTO\").\n  - **remaining_to_next_ticket**: Monto restante para alcanzar el siguiente boleto (e.g., 25234).\n\n\n\n\n\n\n\n\n\n\n\n\n\n","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"nit\": 1057544364, \n \"contest_id\": 200\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_9615e0cb0665471b90f25fcf6279a6dd"},{"name":"User-Agent","value":"insomnia/10.1.1","id":"pair_dbcf577f3a9d4849a73b2949975c3e83"},{"id":"pair_ec4f6dc7ca184c11b438a6dc7dc273f1","name":"X-API-KEY","value":"lXCYFVPW01DOZTEGWnjI9lj66ArZwjiCMFgzU43G","description":"","disabled":false}],"authentication":{"type":"none"},"metaSortKey":-1733853632197,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_05052977b03b4b1e84dd5ac33b4e16e4","parentId":"wrk_9048b63846a3417faac75baf8196e663","modified":1735320915610,"created":1735070214461,"url":"{{ _.backend_vtex }}/api/v1/external/contests/conditions","name":"get-contests-conditions-external","description":"# Descripción\n\n### Este endpoint permite consultar las condiciones, que tiene un concurso y las condiciones cumplidas junto a los valores de las cuotas, segun un cliente específico, La petición incluye parámetros como el NIT del cliente, el id del concurso, opciones de paginación y ordenamiento, para optimizar la respuesta, estos se enviaran en el body de la petición.\n\n# Parámetros\n\n## `contest_id`\n- **Requerido**: Sí\n- **Tipo**: Entero\n- **Validaciones**:\n  - Debe ser un número entero.\n- **Descripción**: Identificador del concurso.\n\n\n## `nit`\n- **Requerido**: Sí\n- **Tipo**: Entero\n- **Validaciones**:\n  - Debe ser un número entero.\n- **Descripción**: Número de Identificación Tributaria (NIT) del cliente o entidad a consultar.\n\n## `page_size`\n- **Requerido**: No (Opcional)\n- **Tipo**: Entero\n- **Validaciones**:\n  - Debe ser un número entero.\n  - Debe tener un valor mínimo de **1**.\n  - Su valor máximo permitido es **100**.\n- **Descripción**: Define el número de registros que se retornarán por página en los resultados de la consulta.\n\n## `page`\n- **Requerido**: No (Opcional)\n- **Tipo**: Entero\n- **Validaciones**:\n  - Debe ser un número entero.\n  - Debe tener un valor mínimo de **1**.\n- **Descripción**: Número de la página a consultar en el conjunto paginado de resultados.\n\n## `sort_by`\n- **Requerido**: No (Opcional)\n- **Tipo**: Cadena de texto\n- **Validaciones**:\n  - Debe ser una cadena de texto.\n- **Descripción**: Campo por el cual se desea ordenar los resultados de la consulta.\n\n## `order_desc`\n- **Requerido**: No (Opcional)\n- **Tipo**: Booleano\n- **Validaciones**:\n  - Debe ser un valor booleano (`true` o `false`).\n- **Descripción**: Define si el orden de los resultados será descendente (`true`) o ascendente (`false`). Si no se especifica, se utilizará un orden ascendente por defecto.\n\n# Posibles repuestas\n\nError de Validación:\nEl servidor responde con un código HTTP 422 (Unprocessable Entity) si los datos enviados no cumplen con las reglas de validación. La respuesta incluye detalles de los errores en formato JSON.\n\nError del Servidor:\nEn caso de un problema interno, el servidor retorna un código HTTP 500 (Internal Server Error). \n\nProceso Exitoso:\nEl servidor devuelve un código de estado HTTP 200 (OK), indicando que la solicitud fue procesada correctamente. La respuesta incluye los datos de los concursos en formato JSON.\n\nel api retornara un json con la siguiente estructura:\n\n\n```json\n\n{\n\t\"data\": [\n\t\t{\n\t\t\t\"condition_level\": 3,\n\t\t\t\"entity_name\": \"ACCUPRIL 10 MG CAJA 28 TABLETAS\",\n\t\t\t\"quota_completed\": 115000,\n\t\t\t\"remaining_quota\": 0,\n\t\t\t\"quota_value\": 30000,\n\t\t\t\"quota_percentage\": \"383\"\n\t\t},\n\t\t{\n\t\t\t\"condition_level\": 3,\n\t\t\t\"entity_name\": \"ACCUPRIL 20 MG CAJA 28 TABLETAS\",\n\t\t\t\"quota_completed\": 1000,\n\t\t\t\"remaining_quota\": 2000,\n\t\t\t\"quota_value\": 3000,\n\t\t\t\"quota_percentage\": \"33\"\n\t\t}\n\t]\n}\n```\n\nEl API retornará un JSON con una propiedad `data`. Esta contendra un arreglo de objetos, los cuales seran la condiciones configuradas para el concurso.\n\n### Estructura de la Respuesta\n\n- **data**: Objeto principal que contiene la información sobre las condiciones.\n    - **condition_level**: Identificador del nivel de la condicion, 1: proveedor, 2:Lineas 3: articulos.\n    - **entity_name**: Nombre de la entidad configurada en la condición, si es 1 mostrara el nombre de proveedor configurado, si es 2 mostrara nombre de linea configurada, si es 3 mostrara nombre de articulo configurado.\n    - **quota_completed**: Valor cuota completada para la condición.\n    - **remaining_quota**: Valor faltante para cumplir cuota de condición.\n    - **quota_value**: Cuota configurada para la condición.\n    - **quota_percentage**: Porcentaje completado para la cuota de la condición.","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"nit\": 1057544364, \n \t\"contest_id\": 200,\n\t\"page\":1,\n  \"page_size\": 2,\n\t\"sort_by\":\"quota_completed\",\n\t\"order_desc\":true\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_9615e0cb0665471b90f25fcf6279a6dd"},{"name":"User-Agent","value":"insomnia/10.1.1","id":"pair_dbcf577f3a9d4849a73b2949975c3e83"},{"id":"pair_ec4f6dc7ca184c11b438a6dc7dc273f1","name":"X-API-KEY","value":"lXCYFVPW01DOZTEGWnjI9lj66ArZwjiCMFgzU43G","description":"","disabled":false}],"authentication":{"type":"none"},"metaSortKey":-1732985526902.5,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"env_9a23510576b74c94860a1a323166fe3f","parentId":"wrk_9048b63846a3417faac75baf8196e663","modified":1734010085222,"created":1734010085222,"name":"Base Environment","data":{},"dataPropertyOrder":null,"color":null,"isPrivate":false,"metaSortKey":1733847487769,"environmentType":"kv","_type":"environment"},{"_id":"jar_56f24e71abb8477f8013f0216ae0b3be","parentId":"wrk_9048b63846a3417faac75baf8196e663","modified":1734010085232,"created":1734010085232,"name":"Default Jar","cookies":[],"_type":"cookie_jar"},{"_id":"spc_881e0fc467f045e1b5a6911203eab472","parentId":"wrk_9048b63846a3417faac75baf8196e663","modified":1734010085258,"created":1734010085255,"fileName":"endpoints_externos","contents":"","contentType":"yaml","_type":"api_spec"},{"_id":"env_db0e3a7133294b93aca80fc9b0f3226e","parentId":"env_9a23510576b74c94860a1a323166fe3f","modified":1734010085225,"created":1734010085225,"name":"Local","data":{"backend_vtex":"http://127.0.0.1:8000","api_key":"12345abcde","token_auth":"28673|ePUwDsyjZ1UCqPcHm5cnPzJslO5qTxfBOVtBlFVS"},"dataPropertyOrder":{"&":["backend_vtex","api_key","token_auth"]},"color":"#1f1cce","isPrivate":false,"metaSortKey":1732119465275,"_type":"environment"},{"_id":"env_36da9ca46b484795b2fc182f625733d0","parentId":"env_9a23510576b74c94860a1a323166fe3f","modified":1734010085229,"created":1734010085229,"name":"sandbox","data":{"backend_vtex":"https://sbvtexapi.desarrolloaxa.com.co/public","api_key":"12345abcde","token_auth":"29026|OOJag8pJnMfYmNtV4Mc0LPaL7X8w9wsUNAxFvgy4"},"dataPropertyOrder":{"&":["backend_vtex","api_key","token_auth"]},"color":"#37764d","isPrivate":false,"metaSortKey":1732119465326,"_type":"environment"}]}